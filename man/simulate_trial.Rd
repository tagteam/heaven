% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_trial.R
\name{simulate_trial}
\alias{simulate_trial}
\title{simulate_trial}
\usage{
simulate_trial(n=100 # Number of individuals
followup = 5, # years
prop_Y = 0.50, # Probability of outcome
prop_censor = 0.30, # Probability of censoring
prop_compete = 0.20, # Probability of competing risk
prop_discontinue = 0.30, # Probability of discontinuation
prop_switch_if_discontinue = 0.50, # Probability of switch
prop_T = 0.50, # Probability of random time dependent variable
seed = NULL)) # seed
}
\arguments{
\item{prop_Y}{= 0.50,# Probability of outcome}

\item{prop_censor}{= 0.30,  Probability of censoring}

\item{prop_compete}{= 0.20,  Probability of competing risk}

\item{prop_discontinue}{= 0.30,  Probability of discontinuation}

\item{prop_switch_if_discontinue}{= 0.50,  Probability of switch}

\item{prop_T}{= 0.50,  Probability of random time dependent variable}

\item{seed}{= NULL))  seed}

\item{n=100}{number of individuals}
}
\value{
The function returns a list of three datasets corresponding to baseline,
time dependent variables (dep_vars) and outcomes
}
\description{
This function was generated by CHATGPT based on the following request:
I need an R function to produce data for a simulated trial of n individuals. 
The should have baseline data of sex (equal distribution) and age 
(random between 50 and 80 years).  At baseline individuals are randomly given 
treatment A or B and all patients do start on treatment.  During follow-up of 
five years 50% have the outcome Y (0/1), 30% are censored at varying times 
and the final 20% have the competing risk of death. Y occurs gradually over 
time, censoring and competing risk completely at random. Treatment A that 
reduces the risk of outcome by 50% when the actual treatment is A.  
During follow-up at random times 30% discontinue the allocated treatment 
and half of these switch to the other treatment.  There is further another 
time dependent variable T which has no effect on outcomes, but which occur 
for 50% of individuals during about a year sometime during the five year period.

Some specific requirements
Individuals starting with treatment A or B should also be allocated to this treatment initially during follow-up

Also the intervals of time dependent variables cannot overlap within individual and variable. The intervals must have positive length.

The product should be three datasets.  The baseline  data have age, sex and 
baseline treatment.  The outcome dataset should have four variables: ID, Y, 
Censor and Compete (0/1( - For the columns of Censor, Compete and Y the value 
is the time of the outcome.  The final dataset is the time dependent 
variables of the two treatments and the extra variable T.  This dataset should 
have ID, start, end, value=1 and variable (T, A, B)                                                                                                                                                              I want the program to use data.table for calculations
}
\examples{
library(data.table)
simulate_trial(seed=2,n=10)
}
\author{
Christian Torp-Pedersen
simulate_trial(followup = 5, # years
}
